#define U0  0
#define U1  1
#define U8  2
#define U16 3
#define U32 4
#define U64 5
#define I8  6
#define I16 7
#define I32 8
#define I64 9
#define F32 10
#define F64 11
#define x86_FP80 12

#define ERROR_TYPE 4000

struct IrType {
    uint base;
    uint pointer_depth;
    uint load_depth;
};

layout(std430, binding = 6) coherent volatile buffer VregTypes {
	IrType vregTypes[];
};

IrType favoured(IrType lhs, IrType rhs) {
    // TODO: Report all implicit casts (ugh).
    if (lhs.base == 0) return rhs;
    if (rhs.base == 0) return lhs;

    // TODO: Actually write this.

    return lhs;
}
